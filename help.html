<!DOCTYPE html>
<html> 
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=7, IE=9, IE=10">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <title>Identify with Popup</title>
    <link rel="stylesheet" href="http://js.arcgis.com/3.10/js/dojo/dijit/themes/claro/claro.css">
    <link rel="stylesheet" href="http://archive.dojotoolkit.org/nightly/dojotoolkit/dojox/layout/resources/ExpandoPane.css">
    <style>
      html, body {
        height:100%;
        width:100%;
        margin:0;
        padding:0;
      }
      html, body, h1 {
        font-size: 1.2em;
        margin-top: 0px;
       
      }
      #cptop {
        height: 1.8em;
        top: 0px;
      }
      #cptop, h1, img {
        float: left;
        padding-right: 0.5em;
      }
      div#cpInnerContentArea {
        /* border-color:green; */
      }
    </style>
    <script>dojoConfig = {parseOnLoad: true}</script>
    <script type="text/javascript" src="javascript/dojo/dojo.js"></script>
    <script>
      function doClick(item){
        var subContent = "";
        var subHeader = "";
        var idContent = "";
        if(typeof(item.subHeader) === 'object'){
          subHeader = item.subheader;
        }
        if(typeof(item.subcontent) === 'object'){
          subContent = item.subcontent;
        }
        if(typeof(item.content) === 'object'){
          if (item.content === "#") {
            idContent = item.content + " Sheah right !"; // item.children[0]._reference; // item.children[0]['_reference'];
          } else {
            idContent = item.content;
          }
        }
        if(typeof(item.link) === 'object'){
          // location.href = item.link;
          node = document.getElementById("cpInnerContentArea");
          if (item.type == "teaser" || item.type == "content") {
            node.innerHTML = "<h2>" + item.header + "</h2>" + "<h3>" + subHeader + "</h3>" + 
            "<p>" + idContent + "</p>" + "<p>" + subContent + "</p>";
          } else if (item.type == "sub-content") {
            node.innerHTML = "THIS IS SUB-CONTENT";
          }
          else {
            node.innerHTML = "Type: " + item.type + "<br />Population: " + item.population + "<br />Area: " + item.area + "<br />";
          }
          // testing
          console.log("content: " + idContent);
        };
      }
    
    require([
      "dojo/_base/window", "dojo/store/Memory",
      "dojox/layout/ExpandoPane", 
      "dojo/data/ItemFileReadStore",
      // "esri/Color",
      "dojo/on",
      "dojo/dom", 
      "dojo/query", 
      "dijit/registry",
      "dojo/json",
      "dijit/tree/ObjectStoreModel",      
      "dijit/Tree",
      "dojo/parser", 
      "dijit/layout/BorderContainer", 
      "dijit/layout/ContentPane", 
      "dijit/layout/AccordionContainer", 
      "dijit/TitlePane", 
      "dijit/form/Button", 
      "dijit/form/RadioButton", 
      "dojo/domReady!"
      ], function(win, Memory, ExpandoPane, ItemFileReadStore, on, dom, query, registry, json, ObjectStoreModel, Tree, parser, BorderContainer, ContentPane, AccordionContainer, TitlePane, Button, RadioButton) {
        // onClick="function(item){location.href = item.url;}"
        // dom.on("click", doClick)  
        
        // Create test store, adding the getChildren() method required by ObjectStoreModel
        
      }); // end of require block
      
    </script>
  </head>

  <body class="claro">
    <div data-dojo-type="dijit/layout/BorderContainer" 
         data-dojo-props="design:'headline', gutters:false" 
         style="width:100%;height:100%;margin:0;">
      <div data-dojo-type="dijit/layout/ContentPane" id="cptop"
        data-dojo-props="region: 'top'">
        <img src="images/yourLOGO.gif" width="64" height="48" alt="Garrett County Logo" />
        <h1>Garrett County WebMap &#045; Help Documentation</h1>
      </div><!-- #cp CONTENT PANE -->
        <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'center'" title="ContentArea" id="cpInnerContentArea">
        </div>

      <!--<div data-dojo-type="dijit/layout/BorderContainer" id="bcOuterContentArea"><!--  -->
        <div data-dojo-type="dojox.layout.ExpandoPane" title="Table of Contents"
             data-dojo-props="region:'left', design:'footer', gutters:true, liveSplitters:true, startExpanded:true, easeIn:'expoInOut', easeOut:'expoInOut', duration:600" 
             style="height:390px;">
  
  
          <div data-dojo-type="dijit.layout.AccordionContainer" data-dojo-props="closable:false,  open:false">
            <div dojoType="dojo.data.ItemFileReadStore" data-dojo-id="continentStore"
              url="data/topics.json">      
            </div>
  
            <div data-dojo-type="dijit/layout/ContentPane" title="Topics" data-dojo-props="region:'center'" style="width:300px; margin-top:0; padding:0;">
            
              <div dojoType="dijit.Tree" store="continentStore" query="{type:'teaser'}" data-dojo-props="onClick: doClick" 
              <!--function(item) {location.href = item.link;}"--></div>
                labelAttr="name" typeAttr="type" label="Toolkit API">            
              </div>
              Item 1: <br />      
            </div><!-- Topics -->
          </div><!-- Accordion Container -->
        </div><!-- Expando Pane -->
      <!--</div><!-- Border Container - Content Pane Outer Content Area -->
    </div><!-- Border Container -->
  </body>
</html>